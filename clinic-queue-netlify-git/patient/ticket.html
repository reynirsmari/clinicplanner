<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Your ticket</title>
<style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:2rem}.card{padding:1rem;border:1px solid #ddd;border-radius:8px;max-width:480px}.dim{color:#666}</style></head>
<body><h1>Your ticket</h1><div id="card" class="card">Loading…</div><p class="dim">This page auto‑refreshes every 8s.</p>
<script>
const params=new URLSearchParams(location.search);const id=params.get('id');
async function load(){const res=await fetch(`/api/tickets-get?id=${id}`);
if(res.status===404){document.getElementById('card').textContent='Ticket not found.';return}
const data=await res.json();if(!data.ok){document.getElementById('card').textContent=data.error||'Error';return}
const t=data.ticket;document.getElementById('card').innerHTML=`<h2>#${t.id}</h2><div><strong>Status:</strong> ${t.status}</div><div><strong>Name:</strong> ${t.name}</div><div><strong>Priority:</strong> ${t.priority}</div><div><strong>Complaint:</strong> ${t.complaint||''}</div><div class="dim">Created: ${new Date(t.createdAt).toLocaleString()}</div>`}
load();setInterval(load,8000);
</script></body></html>
